{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Trabajo-React (2)\\\\glamping-app\\\\src\\\\components\\\\pages\\\\ReservasPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ReservaForm from '../components/organisms/ReservaForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReservasPage = () => {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [glampings, setGlampings] = useState([]);\n  const [estados, setEstados] = useState([]);\n  const [reservas, setReservas] = useState([]);\n  useEffect(() => {\n    fetch('/api/clientes').then(res => res.json()).then(setClients);\n    fetch('/api/glampings').then(res => res.json()).then(setGlampings);\n    fetch('/api/estados').then(res => res.json()).then(setEstados);\n    fetch('/api/reservas').then(res => res.json()).then(setReservas);\n  }, []);\n  const handleSave = data => {\n    const isUpdate = Boolean(data.id);\n    const url = isUpdate ? `/api/reservas/${data.id}` : '/api/reservas';\n    const method = isUpdate ? 'PUT' : 'POST';\n    fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(saved => {\n      setReservas(prev => isUpdate ? prev.map(r => r.id === saved.id ? saved : r) : [...prev, saved]);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto py-8\",\n    children: /*#__PURE__*/_jsxDEV(ReservaForm, {\n      clients: clients,\n      glampings: glampings,\n      estados: estados,\n      onSave: handleSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(ReservasPage, \"1qHMqCyq4BDUSh2fedmIbt5hZYE=\");\n_c = ReservasPage;\nexport default ReservasPage;\nvar _c;\n$RefreshReg$(_c, \"ReservasPage\");","map":{"version":3,"names":["React","useState","useEffect","ReservaForm","jsxDEV","_jsxDEV","ReservasPage","_s","clients","setClients","glampings","setGlampings","estados","setEstados","reservas","setReservas","fetch","then","res","json","handleSave","data","isUpdate","Boolean","id","url","method","headers","body","JSON","stringify","saved","prev","map","r","className","children","onSave","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/Trabajo-React (2)/glamping-app/src/components/pages/ReservasPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReservaForm from '../components/organisms/ReservaForm';\r\n\r\nconst ReservasPage = () => {\r\n  const [clients, setClients] = useState([]);\r\n  const [glampings, setGlampings] = useState([]);\r\n  const [estados, setEstados] = useState([]);\r\n  const [reservas, setReservas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch('/api/clientes').then(res => res.json()).then(setClients);\r\n    fetch('/api/glampings').then(res => res.json()).then(setGlampings);\r\n    fetch('/api/estados').then(res => res.json()).then(setEstados);\r\n    fetch('/api/reservas').then(res => res.json()).then(setReservas);\r\n  }, []);\r\n\r\n  const handleSave = data => {\r\n    const isUpdate = Boolean(data.id);\r\n    const url = isUpdate ? `/api/reservas/${data.id}` : '/api/reservas';\r\n    const method = isUpdate ? 'PUT' : 'POST';\r\n\r\n    fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then(res => res.json())\r\n      .then(saved => {\r\n        setReservas(prev =>\r\n          isUpdate\r\n            ? prev.map(r => (r.id === saved.id ? saved : r))\r\n            : [...prev, saved]\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-8\">\r\n      <ReservaForm\r\n        clients={clients}\r\n        glampings={glampings}\r\n        estados={estados}\r\n        onSave={handleSave}\r\n      />\r\n      {/* Aquí puedes integrar una tabla para listar reservas y opciones de edición/eliminación */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReservasPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACdc,KAAK,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACR,UAAU,CAAC;IAC/DO,KAAK,CAAC,gBAAgB,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACN,YAAY,CAAC;IAClEK,KAAK,CAAC,cAAc,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACJ,UAAU,CAAC;IAC9DG,KAAK,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACF,WAAW,CAAC;EAClE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,UAAU,GAAGC,IAAI,IAAI;IACzB,MAAMC,QAAQ,GAAGC,OAAO,CAACF,IAAI,CAACG,EAAE,CAAC;IACjC,MAAMC,GAAG,GAAGH,QAAQ,GAAG,iBAAiBD,IAAI,CAACG,EAAE,EAAE,GAAG,eAAe;IACnE,MAAME,MAAM,GAAGJ,QAAQ,GAAG,KAAK,GAAG,MAAM;IAExCN,KAAK,CAACS,GAAG,EAAE;MACTC,MAAM;MACNC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,IAAI;IAC3B,CAAC,CAAC,CACCJ,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACc,KAAK,IAAI;MACbhB,WAAW,CAACiB,IAAI,IACdV,QAAQ,GACJU,IAAI,CAACC,GAAG,CAACC,CAAC,IAAKA,CAAC,CAACV,EAAE,KAAKO,KAAK,CAACP,EAAE,GAAGO,KAAK,GAAGG,CAAE,CAAC,GAC9C,CAAC,GAAGF,IAAI,EAAED,KAAK,CACrB,CAAC;IACH,CAAC,CAAC;EACN,CAAC;EAED,oBACE1B,OAAA;IAAK8B,SAAS,EAAC,wBAAwB;IAAAC,QAAA,eACrC/B,OAAA,CAACF,WAAW;MACVK,OAAO,EAAEA,OAAQ;MACjBE,SAAS,EAAEA,SAAU;MACrBE,OAAO,EAAEA,OAAQ;MACjByB,MAAM,EAAEjB;IAAW;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEC,CAAC;AAEV,CAAC;AAAClC,EAAA,CA5CID,YAAY;AAAAoC,EAAA,GAAZpC,YAAY;AA8ClB,eAAeA,YAAY;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}