{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\Trabajo-React (2)\\\\glamping-app\\\\src\\\\components\\\\pages\\\\ReservasPage.jsx\",\n  _s = $RefreshSig$();\n// src/components/pages/ReservasPage.jsx\nimport React, { useEffect, useState } from 'react';\nimport ReservasTemplate from '../templates/ReservasTemplate';\nimport reservasJson from '../../data/reservas.json';\nimport { obtenerClientes } from '../../controllers/ClienteController';\nimport { obtenerGlampings } from '../../controllers/GlampingController';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReservasPage = () => {\n  _s();\n  const [reservas, setReservas] = useState([]);\n  const [clientes, setClientes] = useState([]);\n  const [glampings, setGlampings] = useState([]);\n  const [reservaActual, setReservaActual] = useState({\n    id: null,\n    clienteId: '',\n    glampingId: '',\n    fechaInicio: '',\n    fechaFin: '',\n    totalPagado: '',\n    estado: 'pendiente'\n  });\n  const [modoEdicion, setModoEdicion] = useState(false);\n  const [alerta, setAlerta] = useState(null);\n  useEffect(() => {\n    setReservas(reservasJson);\n    setClientes(obtenerClientes());\n    setGlampings(obtenerGlampings());\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setReservaActual({\n      ...reservaActual,\n      [name]: value\n    });\n  };\n  const handleGuardar = e => {\n    e.preventDefault();\n    if (modoEdicion) {\n      setReservas(prev => prev.map(r => r.id === reservaActual.id ? reservaActual : r));\n      setAlerta({\n        tipo: 'success',\n        mensaje: 'Reserva actualizada correctamente.'\n      });\n    } else {\n      const nuevaReserva = {\n        ...reservaActual,\n        id: Date.now()\n      };\n      setReservas([...reservas, nuevaReserva]);\n      setAlerta({\n        tipo: 'success',\n        mensaje: 'Reserva guardada correctamente.'\n      });\n    }\n    setReservaActual({\n      id: null,\n      clienteId: '',\n      glampingId: '',\n      fechaInicio: '',\n      fechaFin: '',\n      totalPagado: '',\n      estado: 'pendiente'\n    });\n    setModoEdicion(false);\n  };\n  const handleEditar = reserva => {\n    setReservaActual(reserva);\n    setModoEdicion(true);\n  };\n  const handleEliminar = id => {\n    setReservas(reservas.filter(r => r.id !== id));\n    setAlerta({\n      tipo: 'danger',\n      mensaje: 'Reserva eliminada.'\n    });\n  };\n  const handleCancelar = () => {\n    setReservaActual({\n      id: null,\n      clienteId: '',\n      glampingId: '',\n      fechaInicio: '',\n      fechaFin: '',\n      totalPagado: '',\n      estado: 'pendiente'\n    });\n    setModoEdicion(false);\n  };\n  return /*#__PURE__*/_jsxDEV(ReservasTemplate, {\n    reservas: reservas,\n    clientes: clientes,\n    glampings: glampings,\n    reservaActual: reservaActual,\n    onGuardar: handleGuardar,\n    onEditar: handleEditar,\n    onEliminar: handleEliminar,\n    onVerDetalle: () => {} // si tienes modales\n    ,\n    onCambiarEstado: () => {} // si implementas cambios de estado\n    ,\n    onFiltrar: () => {} // si usas filtros\n    ,\n    onResetFiltro: () => {},\n    filtros: {},\n    calendario: {},\n    setCalendario: () => {},\n    alerta: alerta,\n    setAlerta: setAlerta,\n    onChange: handleChange,\n    onCancelar: handleCancelar,\n    modoEdicion: modoEdicion\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(ReservasPage, \"axbybiXQtbqKPBqxLvJe+sEmDzE=\");\n_c = ReservasPage;\nexport default ReservasPage;\nvar _c;\n$RefreshReg$(_c, \"ReservasPage\");","map":{"version":3,"names":["React","useEffect","useState","ReservasTemplate","reservasJson","obtenerClientes","obtenerGlampings","jsxDEV","_jsxDEV","ReservasPage","_s","reservas","setReservas","clientes","setClientes","glampings","setGlampings","reservaActual","setReservaActual","id","clienteId","glampingId","fechaInicio","fechaFin","totalPagado","estado","modoEdicion","setModoEdicion","alerta","setAlerta","handleChange","e","name","value","target","handleGuardar","preventDefault","prev","map","r","tipo","mensaje","nuevaReserva","Date","now","handleEditar","reserva","handleEliminar","filter","handleCancelar","onGuardar","onEditar","onEliminar","onVerDetalle","onCambiarEstado","onFiltrar","onResetFiltro","filtros","calendario","setCalendario","onChange","onCancelar","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/Trabajo-React (2)/glamping-app/src/components/pages/ReservasPage.jsx"],"sourcesContent":["// src/components/pages/ReservasPage.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReservasTemplate from '../templates/ReservasTemplate';\r\nimport reservasJson from '../../data/reservas.json';\r\nimport { obtenerClientes } from '../../controllers/ClienteController';\r\nimport { obtenerGlampings } from '../../controllers/GlampingController';\r\n\r\nconst ReservasPage = () => {\r\n  const [reservas, setReservas] = useState([]);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [glampings, setGlampings] = useState([]);\r\n  const [reservaActual, setReservaActual] = useState({\r\n    id: null,\r\n    clienteId: '',\r\n    glampingId: '',\r\n    fechaInicio: '',\r\n    fechaFin: '',\r\n    totalPagado: '',\r\n    estado: 'pendiente',\r\n  });\r\n  const [modoEdicion, setModoEdicion] = useState(false);\r\n  const [alerta, setAlerta] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setReservas(reservasJson);\r\n    setClientes(obtenerClientes());\r\n    setGlampings(obtenerGlampings());\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setReservaActual({ ...reservaActual, [name]: value });\r\n  };\r\n\r\n  const handleGuardar = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (modoEdicion) {\r\n      setReservas((prev) =>\r\n        prev.map((r) => (r.id === reservaActual.id ? reservaActual : r))\r\n      );\r\n      setAlerta({ tipo: 'success', mensaje: 'Reserva actualizada correctamente.' });\r\n    } else {\r\n      const nuevaReserva = {\r\n        ...reservaActual,\r\n        id: Date.now(),\r\n      };\r\n      setReservas([...reservas, nuevaReserva]);\r\n      setAlerta({ tipo: 'success', mensaje: 'Reserva guardada correctamente.' });\r\n    }\r\n\r\n    setReservaActual({\r\n      id: null,\r\n      clienteId: '',\r\n      glampingId: '',\r\n      fechaInicio: '',\r\n      fechaFin: '',\r\n      totalPagado: '',\r\n      estado: 'pendiente',\r\n    });\r\n    setModoEdicion(false);\r\n  };\r\n\r\n  const handleEditar = (reserva) => {\r\n    setReservaActual(reserva);\r\n    setModoEdicion(true);\r\n  };\r\n\r\n  const handleEliminar = (id) => {\r\n    setReservas(reservas.filter((r) => r.id !== id));\r\n    setAlerta({ tipo: 'danger', mensaje: 'Reserva eliminada.' });\r\n  };\r\n\r\n  const handleCancelar = () => {\r\n    setReservaActual({\r\n      id: null,\r\n      clienteId: '',\r\n      glampingId: '',\r\n      fechaInicio: '',\r\n      fechaFin: '',\r\n      totalPagado: '',\r\n      estado: 'pendiente',\r\n    });\r\n    setModoEdicion(false);\r\n  };\r\n\r\n  return (\r\n    <ReservasTemplate\r\n      reservas={reservas}\r\n      clientes={clientes}\r\n      glampings={glampings}\r\n      reservaActual={reservaActual}\r\n      onGuardar={handleGuardar}\r\n      onEditar={handleEditar}\r\n      onEliminar={handleEliminar}\r\n      onVerDetalle={() => {}} // si tienes modales\r\n      onCambiarEstado={() => {}} // si implementas cambios de estado\r\n      onFiltrar={() => {}} // si usas filtros\r\n      onResetFiltro={() => {}}\r\n      filtros={{}}\r\n      calendario={{}}\r\n      setCalendario={() => {}}\r\n      alerta={alerta}\r\n      setAlerta={setAlerta}\r\n      onChange={handleChange}\r\n      onCancelar={handleCancelar}\r\n      modoEdicion={modoEdicion}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ReservasPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}